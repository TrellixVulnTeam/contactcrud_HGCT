{"ast":null,"code":"import _defineProperty from\"/Users/adrian/Documents/GitHub/contact/crudcontact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/adrian/Documents/GitHub/contact/crudcontact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/adrian/Documents/GitHub/contact/crudcontact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./EditContact.scss';import Menubar from'../../components/menuBar/MenuBar';import{defaultAvatar}from'../../helpers/defaultAvatar';import{useHistory,useParams}from'react-router';import{GetEditContact}from'../../api/GetEditContact';import{PostEditContact}from'../../api/PostEditContact';import SubmitButton from'../../components/submitButton/SubmitButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditContact=function EditContact(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isToggleMenu=_useState2[0],setIsToggleMenu=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),editInput=_useState4[0],setEditInput=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),photo=_useState6[0],setPhoto=_useState6[1];var history=useHistory();useEffect(function(){getEditContact();},[id]);var getEditContact=function getEditContact(){GetEditContact(id).then(function(result){setEditInput(result);setPhoto({preview:result.photo,raw:result.photo});console.log(result,'apani');});};var toggleMenu=function toggleMenu(){setIsToggleMenu(!isToggleMenu);};var handleChange=function handleChange(e){e.preventDefault();var _e$target=e.target,value=_e$target.value,name=_e$target.name;setEditInput(function(multipleInput){return _objectSpread(_objectSpread({},multipleInput),{},_defineProperty({},name,value));});console.log(value,'apani2');};var changePhoto=function changePhoto(e){var file=e.target.files[0];if(e.target.files.length){setPhoto({preview:file&&URL.createObjectURL(file),raw:file});}console.log(photo,'apanifoto');};var handleSubmit=function handleSubmit(e){e.preventDefault();PostEditContact(editInput,photo,editInput.id).then(function(result){if(result){alert('sukses');history.push('/');}console.log(result,photo,'apani3');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"contact-home\",children:[/*#__PURE__*/_jsx(Menubar,{isToggleMenu:isToggleMenu,toggleMenu:toggleMenu}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"Edit Contact Page\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-edit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"photo-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:defaultAvatar(photo.preview),alt:\"avatar\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-input\",className:\"change-profile-photo\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ganti foto profil\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",name:\"file\",type:\"file\",onChange:changePhoto})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",onChange:handleChange,value:editInput.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",onChange:handleChange,value:editInput.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",onChange:handleChange,value:editInput.age,className:\"number\"})]})]}),/*#__PURE__*/_jsx(SubmitButton,{handleSubmit:handleSubmit,value:\"Submit\"})]})]});};export default EditContact;","map":{"version":3,"sources":["/Users/adrian/Documents/GitHub/contact/crudcontact/src/pages/editContact/EditContact.tsx"],"names":["React","useEffect","useState","Menubar","defaultAvatar","useHistory","useParams","GetEditContact","PostEditContact","SubmitButton","EditContact","id","isToggleMenu","setIsToggleMenu","editInput","setEditInput","photo","setPhoto","history","getEditContact","then","result","preview","raw","console","log","toggleMenu","handleChange","e","preventDefault","target","value","name","multipleInput","changePhoto","file","files","length","URL","createObjectURL","handleSubmit","alert","push","firstName","lastName","age"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport './EditContact.scss'\nimport Menubar from '../../components/menuBar/MenuBar';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { GetContact } from '../../api/GetContact';\nimport { ContactDetailModelType, PostPhotoModelType } from '../../models/ContactModel';\nimport { defaultAvatar } from '../../helpers/defaultAvatar';\nimport { useHistory, useParams } from 'react-router';\nimport { GetEditContact } from '../../api/GetEditContact';\nimport { PostEditContact } from '../../api/PostEditContact';\nimport SubmitButton from '../../components/submitButton/SubmitButton';\n\nconst EditContact = () => {\n    const { id }: any = useParams();\n    const [ isToggleMenu, setIsToggleMenu ] = useState(false);\n    const [ editInput, setEditInput] = useState(\n        {} as ContactDetailModelType\n        );\n    const [photo, setPhoto] = useState({} as PostPhotoModelType);\n    const history = useHistory();\n\n\n    useEffect(()=>{\n        getEditContact()\n    },[id])\n\n    const getEditContact = () => {\n        GetEditContact(id).then((result) => {\n            setEditInput(result)\n            setPhoto({\n                preview: result.photo,\n                raw: result.photo,\n              });\n            console.log(result, 'apani')\n        })\n    }\n\n    const toggleMenu = () => {\n        setIsToggleMenu(!isToggleMenu);\n    }\n\n    const handleChange = (e:any) => {\n        e.preventDefault();\n        const { value,  name} = e.target;\n        setEditInput((multipleInput) => ({\n            ...multipleInput,\n            [name]: value,\n        }));\n        console.log(value, 'apani2')\n    } \n\n    const changePhoto = (e: any) => {\n        const file = e.target.files[0];\n        if (e.target.files.length) {\n          setPhoto({\n            preview: file && URL.createObjectURL(file),\n            raw: file,\n          });\n        }\n        console.log(photo, 'apanifoto')\n      };\n\n      const handleSubmit = (e:any) => {\n          e.preventDefault();\n          PostEditContact(editInput, photo, editInput.id).then((result) => {\n              if(result) {\n                  alert('sukses')\n                  history.push('/')\n              }\n              console.log(result, photo, 'apani3')\n          })\n      }\n\n    return (\n        <div className=\"contact-home\">\n            <Menubar\n                isToggleMenu={isToggleMenu}\n                toggleMenu={toggleMenu}\n            />\n            <div className=\"contact-main\">\n                <div className=\"header\">\n                    <span className=\"title\">Edit Contact Page</span>\n                    <div className=\"line\"/>\n                </div>\n                <div className=\"contact-edit\">\n                    <div className='photo-container'>\n                        <img src={defaultAvatar(photo.preview)} alt='avatar' />\n                        <label htmlFor='file-input' className='change-profile-photo'>\n                        <span>Ganti foto profil</span>\n                        <input\n                            id='file-input'\n                            name='file'\n                            type='file'\n                            onChange={changePhoto}\n                        />\n                        </label>\n                    </div>\n                    <div className=\"input-field\">\n                        <span className=\"label\">First Name</span>\n                        <input \n                            type=\"text\"\n                            name=\"firstName\"\n                            onChange={handleChange}\n                            value={editInput.firstName}\n                        />\n                    </div>\n                    <div className=\"input-field\">\n                        <span className=\"label\">Last Name</span>\n                        <input \n                            type=\"text\"\n                            name=\"lastName\"\n                            onChange={handleChange}\n                            value={editInput.lastName}\n                        />\n                    </div>\n                    <div className=\"input-field\">\n                        <span className=\"label\">Age</span>\n                        <input \n                            type=\"number\"\n                            name=\"age\"\n                            onChange={handleChange}\n                            value={editInput.age}\n                            className=\"number\"\n                        />\n                    </div>\n                </div>\n                <SubmitButton handleSubmit={handleSubmit} value=\"Submit\" /> \n            </div>\n        </div>\n    )\n}\n\nexport default EditContact;"]},"metadata":{},"sourceType":"module"}